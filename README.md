# ğŸ½ï¸ é£²é£Ÿåº—æ¤œç´¢Webã‚¢ãƒ—ãƒª

Google AI Grounding Searchã‚’ä½¿ç”¨ã—ãŸé£²é£Ÿåº—æ¤œç´¢ãƒ»è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 

[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://www.python.org/downloads/)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-green.svg)](https://fastapi.tiangolo.com/)
[![Google AI](https://img.shields.io/badge/Google%20AI-Gemini%202.5%20Flash-orange.svg)](https://ai.google.dev/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)

## ğŸ“‹ æ¦‚è¦

ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€**Google AIï¼ˆGeminiï¼‰ã®Grounding Searchæ©Ÿèƒ½**ã‚’ä½¿ç”¨ã—ã¦é£²é£Ÿåº—ã‚’æ¤œç´¢ã—ã€æ¤œç´¢çµæœã¨å…¥åŠ›æ¡ä»¶ã®**åˆè‡´åº¦ã‚’5æ®µéšã§AIåˆ¤å®š**ã™ã‚‹æ¤œè¨¼ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

### ä¸»ãªç‰¹å¾´

- âœ… **Google Grounding Searchçµ±åˆ**: å®Ÿåœ¨ã™ã‚‹åº—èˆ—æƒ…å ±ã‚’æ¤œç´¢
- âœ… **AI ã«ã‚ˆã‚‹åº—èˆ—åæŠ½å‡º**: Pydanticã‚¹ã‚­ãƒ¼ãƒã§æ§‹é€ åŒ–å‡ºåŠ›
- âœ… **5æ®µéšåˆè‡´åº¦åˆ¤å®š**: æ¤œç´¢æ¡ä»¶ã¨ã®ä¸€è‡´åº¦ã‚’AIãŒè‡ªå‹•è©•ä¾¡
- âœ… **è©³ç´°ãƒ‡ãƒãƒƒã‚°è¡¨ç¤º**: å„ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’å¯è¦–åŒ–
- âœ… **æ®µéšçš„å‡¦ç†ãƒ•ãƒ­ãƒ¼**: Step 1ã€œ5 ã®æ˜ç¢ºãªUIè¨­è¨ˆ
- âœ… **å®Œå…¨ãƒ­ã‚°å¯¾å¿œ**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«+ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ï¼ˆã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰

---

## ğŸ¯ è§£æ±ºã™ã‚‹èª²é¡Œ

1. **Google AI Grounding Searchã®å‹•ä½œæ¤œè¨¼**
   - APIå‘¼ã³å‡ºã—ã‹ã‚‰çµæœå–å¾—ã¾ã§ã®å…¨éç¨‹ã‚’å¯è¦–åŒ–
   - ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆã®æœ€é©åŒ–ã‚’æ”¯æ´

2. **æ¤œç´¢çµæœã®å“è³ªè©•ä¾¡**
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼è¦æ±‚ã¨ã®åˆè‡´åº¦ã‚’å®šé‡çš„ã«è©•ä¾¡ï¼ˆ1ã€œ5ã‚¹ã‚³ã‚¢ï¼‰
   - åˆ¤å®šç†ç”±ã‚’æ˜ç¤ºã—ã¦é€æ˜æ€§ã‚’ç¢ºä¿

3. **ãƒ‡ãƒãƒƒã‚°ç’°å¢ƒã®æä¾›**
   - å„å‡¦ç†ã‚¹ãƒ†ãƒƒãƒ—ã®è©³ç´°ãƒ­ã‚°
   - ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†

---

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### 1. å¿…è¦è¦ä»¶

- Python 3.11ä»¥ä¸Š
- Google AI API ã‚­ãƒ¼

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/yourusername/restaurant-search-app.git
cd restaurant-search-app

# ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

### 3. ç’°å¢ƒè¨­å®š

```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cp .env.example .env

# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š
# GOOGLE_API_KEY=your_actual_api_key_here
```

### 4. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•

```bash
# ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
python main.py
```

ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãŸã‚‰ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã«ã‚¢ã‚¯ã‚»ã‚¹:

- **ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª**: http://localhost:8000/
- **API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: http://localhost:8000/docs
- **ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯**: http://localhost:8000/health

---

## ğŸ’¡ ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ç”¨ãƒ•ãƒ­ãƒ¼

#### Step 1: æ¤œç´¢æ¡ä»¶ã®å…¥åŠ›

```
ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›
ä¾‹: ã€Œæ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—ã€
```

#### Step 2: åˆå›æ¤œç´¢ã®å®Ÿè¡Œ

```
ã€Œæ¤œç´¢é–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
â†’ Google Grounding SearchãŒå®Ÿè¡Œã•ã‚Œã‚‹
â†’ Step 1, 2, 3 ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹
```

#### Step 3: åº—èˆ—ã®é¸æŠ

```
æŠ½å‡ºã•ã‚ŒãŸåº—èˆ—ãƒªã‚¹ãƒˆï¼ˆæœ€å¤§10ä»¶ï¼‰ã‹ã‚‰
ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§è©³ç´°æ¤œç´¢ã—ãŸã„åº—èˆ—ã‚’é¸æŠ
```

#### Step 4-5: å€‹åˆ¥åº—èˆ—æ¤œç´¢ã¨è©•ä¾¡

```
ã€Œå€‹åˆ¥åº—èˆ—ã‚µãƒ¼ãƒé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
â†’ é¸æŠã—ãŸåº—èˆ—ã®è©³ç´°æƒ…å ±ã‚’é †æ¬¡å–å¾—
â†’ å„åº—èˆ—ã®åˆè‡´åº¦ï¼ˆ1ã€œ5ï¼‰ã‚’åˆ¤å®š
â†’ Step 4ï¼ˆå€‹åˆ¥è©³ç´°ï¼‰ã¨Step 5ï¼ˆã‚µãƒãƒªãƒ¼ï¼‰ãŒè¡¨ç¤º
```

### UI ã®ä¸»è¦æ©Ÿèƒ½

- **æŠ˜ã‚ŠãŸãŸã¿å¯èƒ½ãªã‚¹ãƒ†ãƒƒãƒ—ãƒœãƒƒã‚¯ã‚¹**: å„ã‚¹ãƒ†ãƒƒãƒ—ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ã‚¯ãƒªãƒƒã‚¯ã§å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿
- **ã‚¹ã‚³ã‚¢è‰²åˆ†ã‘**:
  - ğŸ”´ ã‚¹ã‚³ã‚¢1: ã¾ã£ãŸãåˆè‡´ã—ãªã„ï¼ˆèµ¤ï¼‰
  - ğŸŸ  ã‚¹ã‚³ã‚¢2: ä¸€éƒ¨åˆè‡´ï¼ˆã‚ªãƒ¬ãƒ³ã‚¸ï¼‰
  - ğŸŸ¡ ã‚¹ã‚³ã‚¢3: åŠåˆ†ç¨‹åº¦åˆè‡´ï¼ˆé»„ï¼‰
  - ğŸŸ¢ ã‚¹ã‚³ã‚¢4: ã»ã¼åˆè‡´ï¼ˆæ˜ç·‘ï¼‰
  - ğŸŸ¢ ã‚¹ã‚³ã‚¢5: å®Œå…¨ã«åˆè‡´ï¼ˆæ¿ƒç·‘ï¼‰
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°**: ãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼ˆF12ï¼‰ã§è©³ç´°ãƒ­ã‚°ã‚’ç¢ºèª

---

## ğŸ”§ API ä»•æ§˜

### POST /api/search

åˆå›æ¤œç´¢ï¼ˆStep 1-3ï¼‰ã‚’å®Ÿè¡Œ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "input_text": "æ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—"
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "input_text": "æ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—",
  "prompt_used": "ã€Œæ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—ã€ã«åˆã†é£²é£Ÿåº—ã‚’10ä»¶...",
  "model_name": "gemini-2.5-flash",
  "raw_response": "æ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„ãŠåº—ã‚’10ä»¶ã”ç´¹ä»‹ã—ã¾ã™...",
  "grounding_metadata": { ... },
  "shop_list": {
    "shops": ["ä¸€è˜­ æ¸‹è°·åº—", "åšå¤šä¸€é¢¨å ‚ æ¸‹è°·åº—", ...]
  }
}
```

### POST /api/search/detail

å€‹åˆ¥åº—èˆ—æ¤œç´¢ï¼ˆStep 4-5ï¼‰ã‚’å®Ÿè¡Œ

**ãƒªã‚¯ã‚¨ã‚¹ãƒˆ:**
```json
{
  "input_text": "æ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—",
  "shop_names": ["ä¸€è˜­ æ¸‹è°·åº—", "åšå¤šä¸€é¢¨å ‚ æ¸‹è°·åº—"]
}
```

**ãƒ¬ã‚¹ãƒãƒ³ã‚¹:**
```json
{
  "input_text": "æ¸‹è°·é§…å‘¨è¾ºã§ãƒ©ãƒ¼ãƒ¡ãƒ³ãŒç¾å‘³ã—ã„åº—",
  "shop_names": ["ä¸€è˜­ æ¸‹è°·åº—", "åšå¤šä¸€é¢¨å ‚ æ¸‹è°·åº—"],
  "summaries": [
    {
      "shop_name": "ä¸€è˜­ æ¸‹è°·åº—",
      "detail_search_result": "ä¸€è˜­ æ¸‹è°·åº—ã¯...",
      "judgement": {
        "shop_name": "ä¸€è˜­ æ¸‹è°·åº—",
        "score": 5,
        "reason": "æ¤œç´¢æ¡ä»¶ã®ã™ã¹ã¦ã®è¦ç´ ã‚’æº€ãŸã—ã¦ã„ã‚‹",
        "search_result": "..."
      }
    }
  ]
}
```

è©³ç´°ã¯ http://localhost:8000/docs ã‚’å‚ç…§

---

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
restaurant_tst5_python/
â”œâ”€â”€ main.py                      # FastAPIã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”œâ”€â”€ requirements.txt             # Pythonä¾å­˜é–¢ä¿‚
â”œâ”€â”€ .env                        # ç’°å¢ƒå¤‰æ•°ï¼ˆéã‚³ãƒŸãƒƒãƒˆï¼‰
â”œâ”€â”€ .env.example                # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
â”œâ”€â”€ README.md                   # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ SPEC_VER1.0.md             # ä»•æ§˜æ›¸ï¼ˆå®Ÿè£…ç‰ˆï¼‰â­
â”œâ”€â”€ SPEC_DETAIL.md             # è©³ç´°è¨­è¨ˆæ›¸ â­
â”œâ”€â”€ SPEC_LOGIC.md              # ãƒ­ã‚¸ãƒƒã‚¯è¨­è¨ˆæ›¸ â­
â”œâ”€â”€ SPEC_VALIDATION.md         # æ•´åˆæ€§ç¢ºèªæ›¸
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ config.py              # è¨­å®šç®¡ç†
â”‚   â”œâ”€â”€ logger.py              # ãƒ­ã‚°è¨­å®š
â”‚   â”œâ”€â”€ routers/
â”‚   â”‚   â””â”€â”€ search.py         # æ¤œç´¢APIãƒ«ãƒ¼ã‚¿ãƒ¼
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ gemini_service.py # Google AIçµ±åˆ
â”‚   â”‚   â””â”€â”€ search_service.py # ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
â”‚   â””â”€â”€ schemas/
â”‚       â””â”€â”€ search.py         # Pydanticã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ index.html            # ãƒ¡ã‚¤ãƒ³UI
â”‚   â”œâ”€â”€ style.css             # ã‚¹ã‚¿ã‚¤ãƒ«
â”‚   â””â”€â”€ app.js                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ­ã‚¸ãƒƒã‚¯
â””â”€â”€ logs/
    â””â”€â”€ app.log               # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
```

---

## ğŸ“– ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

### ä»•æ§˜æ›¸ãƒ»è¨­è¨ˆæ›¸

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯è©³ç´°ãªè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™:

#### 1. [SPEC_VER1.0.md](SPEC_VER1.0.md) - ä»•æ§˜æ›¸ï¼ˆå®Ÿè£…ç‰ˆï¼‰â­ **é‡è¦**

å®Ÿè£…å®Œäº†å¾Œã®æœ€çµ‚ä»•æ§˜æ›¸ã€‚è¨ˆç”»ç‰ˆã‹ã‚‰ã®å¤‰æ›´ç‚¹ã‚’å«ã‚€ã€‚

**ä¸»ãªå†…å®¹:**
- èª²é¡Œåˆ†æã¨è§£æ±ºç­–
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯é¸å®šç†ç”±
- å…¨æ©Ÿèƒ½ã®è©³ç´°èª¬æ˜ï¼ˆå®Ÿè£…æ¸ˆã¿ãƒãƒ¼ã‚¯ä»˜ãï¼‰
- ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©
- UI/UXè¨­è¨ˆ
- APIä»•æ§˜
- å®Ÿè£…æ™‚ã®æŠ€è¡“çš„é¸æŠã®è§£èª¬

**ã“ã‚“ãªæ™‚ã«èª­ã‚€:**
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’ç†è§£ã—ãŸã„
- æ©Ÿèƒ½è¦ä»¶ã‚’ç¢ºèªã—ãŸã„
- å®Ÿè£…ã®èƒŒæ™¯ã‚’çŸ¥ã‚ŠãŸã„

#### 2. [SPEC_DETAIL.md](SPEC_DETAIL.md) - è©³ç´°è¨­è¨ˆæ›¸ â­ **å®Ÿè£…è€…å‘ã‘**

å„ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°ãªè¨­è¨ˆã¨ã‚³ãƒ¼ãƒ‰å®Ÿè£…æŒ‡é‡ã€‚

**ä¸»ãªå†…å®¹:**
- å…¨11ãƒ•ã‚¡ã‚¤ãƒ«ã®è©³ç´°è¨­è¨ˆ
- å„é–¢æ•°ãƒ»ãƒ¡ã‚½ãƒƒãƒ‰ã®ã‚·ã‚°ãƒãƒãƒ£
- ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³
- ç”»é¢é·ç§»è¨­è¨ˆ
- å‡¦ç†ãƒ•ãƒ­ãƒ¼èª¬æ˜

**ã“ã‚“ãªæ™‚ã«èª­ã‚€:**
- ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ãƒ»æ‹¡å¼µã—ãŸã„
- å„ãƒ•ã‚¡ã‚¤ãƒ«ã®è²¬å‹™ã‚’ç†è§£ã—ãŸã„
- é–¢æ•°ã®å¼•æ•°ãƒ»æˆ»ã‚Šå€¤ã‚’ç¢ºèªã—ãŸã„

#### 3. [SPEC_LOGIC.md](SPEC_LOGIC.md) - ãƒ­ã‚¸ãƒƒã‚¯è¨­è¨ˆæ›¸ â­ **ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è©³ç´°**

é‡è¦ãªãƒ­ã‚¸ãƒƒã‚¯ãƒ»ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã®è©³ç´°è¨­è¨ˆã€‚

**ä¸»ãªå†…å®¹:**
- Google AI SDKä½¿ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³
- Grounding Searchå®Ÿè£…
- Pydanticã‚¹ã‚­ãƒ¼ãƒã«ã‚ˆã‚‹æ§‹é€ åŒ–å‡ºåŠ›
- åº—èˆ—åæŠ½å‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- åˆè‡´åº¦åˆ¤å®šã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ 
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ»ãƒªãƒˆãƒ©ã‚¤ãƒ­ã‚¸ãƒƒã‚¯

**ã“ã‚“ãªæ™‚ã«èª­ã‚€:**
- AIçµ±åˆã®å®Ÿè£…ã‚’ç†è§£ã—ãŸã„
- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆã‚’æœ€é©åŒ–ã—ãŸã„
- ã‚¨ãƒ©ãƒ¼å‡¦ç†ã‚’æ”¹å–„ã—ãŸã„

#### 4. [SPEC_VALIDATION.md](SPEC_VALIDATION.md) - æ•´åˆæ€§ç¢ºèªæ›¸

3ã¤ã®ä»•æ§˜æ›¸é–“ã®æ•´åˆæ€§ã‚’æ¤œè¨¼ã€‚

---

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

- **Python 3.11+**: ãƒ¡ã‚¤ãƒ³è¨€èª
- **FastAPI**: é«˜é€ŸWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼K
- **google-genai**: Google AI SDKï¼ˆGemini 2.5 Flashï¼‰
- **Pydantic**: ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- **python-dotenv**: ç’°å¢ƒå¤‰æ•°ç®¡ç†

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

- **HTML5**: æ§‹é€ 
- **Vanilla JavaScript**: ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆãƒ“ãƒ«ãƒ‰ä¸è¦ï¼‰
- **CSS3**: ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ï¼ˆã‚«ã‚¹ã‚¿ãƒ CSSï¼‰

### ã‚¤ãƒ³ãƒ•ãƒ©

- **Uvicorn**: ASGIã‚µãƒ¼ãƒãƒ¼
- **Python logging**: ãƒ­ã‚°ç®¡ç†

---

## âš™ï¸ è¨­å®š

### ç’°å¢ƒå¤‰æ•°ï¼ˆ.envï¼‰

```bash
# Google AI API ã‚­ãƒ¼ï¼ˆå¿…é ˆï¼‰
GOOGLE_API_KEY=your_api_key_here

# ä½¿ç”¨ã™ã‚‹Geminiãƒ¢ãƒ‡ãƒ«ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: gemini-2.5-flashï¼‰
GEMINI_MODEL=gemini-2.5-flash

# ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«ï¼ˆDEBUG, INFO, WARNING, ERRORï¼‰
LOG_LEVEL=DEBUG
```

### ãƒ­ã‚°è¨­å®š

- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°**:
  - ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›: å…¨ãƒ¬ãƒ™ãƒ«
  - ãƒ•ã‚¡ã‚¤ãƒ«å‡ºåŠ›: `logs/app.log`ï¼ˆæœ€å¤§10MBã€5ä¸–ä»£ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ­ã‚°**:
  - ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«: å…¨APIã‚³ãƒ¼ãƒ«ãƒ»UIã‚¤ãƒ™ãƒ³ãƒˆ

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œ

#### 1. APIã‚­ãƒ¼ã‚¨ãƒ©ãƒ¼

```
ValidationError: GOOGLE_API_KEY is required
```

**è§£æ±ºæ–¹æ³•**: `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã«æœ‰åŠ¹ãªGoogle AI APIã‚­ãƒ¼ã‚’è¨­å®š

#### 2. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¤ãƒ³ãƒãƒ¼ãƒˆã‚¨ãƒ©ãƒ¼

```
ModuleNotFoundError: No module named 'fastapi'
```

**è§£æ±ºæ–¹æ³•**: `pip install -r requirements.txt` ã‚’å®Ÿè¡Œ

#### 3. ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼

```
OSError: [Errno 48] Address already in use
```

**è§£æ±ºæ–¹æ³•**: `.env` ã§ `PORT=8001` ãªã©åˆ¥ãƒãƒ¼ãƒˆã‚’æŒ‡å®š

#### 4. CORS ã‚¨ãƒ©ãƒ¼

ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã« CORS ã‚¨ãƒ©ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹

**è§£æ±ºæ–¹æ³•**: `main.py` ã® `allow_origins` ã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®URLã‚’è¿½åŠ 

---

## ğŸ§ª é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆ

### é–‹ç™ºãƒ¢ãƒ¼ãƒ‰èµ·å‹•

```bash
# è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰æœ‰åŠ¹
python main.py
```

### ãƒ­ã‚°ç¢ºèª

```bash
# ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ­ã‚°ç›£è¦–
tail -f logs/app.log

# Windows PowerShell
Get-Content logs/app.log -Wait
```

### API ãƒ†ã‚¹ãƒˆï¼ˆcurlï¼‰

```bash
# åˆå›æ¤œç´¢
curl -X POST http://localhost:8000/api/search \
  -H "Content-Type: application/json" \
  -d '{"input_text":"æ¸‹è°· ãƒ©ãƒ¼ãƒ¡ãƒ³"}'

# å€‹åˆ¥åº—èˆ—æ¤œç´¢
curl -X POST http://localhost:8000/api/search/detail \
  -H "Content-Type: application/json" \
  -d '{"input_text":"æ¸‹è°· ãƒ©ãƒ¼ãƒ¡ãƒ³","shop_names":["ä¸€è˜­ æ¸‹è°·åº—"]}'
```

---

## ğŸ“ å­¦ç¿’ãƒ»ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

### ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¤‰æ›´

ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å¤‰æ›´ã—ãŸã„å ´åˆ:

**ãƒ•ã‚¡ã‚¤ãƒ«**: `app/services/search_service.py`

```python
# åˆå›æ¤œç´¢ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
def _build_initial_search_prompt(self, input_text: str) -> str:
    # ã“ã“ã‚’ç·¨é›†

# å€‹åˆ¥åº—èˆ—æ¤œç´¢ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
def _shop_detail_search(self, shop_name: str) -> str:
    # ã“ã“ã‚’ç·¨é›†

# åˆè‡´åº¦åˆ¤å®šãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
def _judge_match(self, input_text: str, shop_name: str, shop_detail: str) -> JudgementSchema:
    # ã“ã“ã‚’ç·¨é›†
```

### ãƒ¢ãƒ‡ãƒ«å¤‰æ›´

ä½¿ç”¨ã™ã‚‹Geminiãƒ¢ãƒ‡ãƒ«ã‚’å¤‰æ›´:

**.env ãƒ•ã‚¡ã‚¤ãƒ«**:
```bash
GEMINI_MODEL=gemini-2.0-flash-exp
```

### UI ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ: `static/index.html`
- ã‚¹ã‚¿ã‚¤ãƒ«: `static/style.css`
- ãƒ­ã‚¸ãƒƒã‚¯: `static/app.js`

---

## ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

### å‡¦ç†æ™‚é–“ç›®å®‰

- **åˆå›æ¤œç´¢ï¼ˆStep 1-3ï¼‰**: 3ã€œ5ç§’
- **å€‹åˆ¥åº—èˆ—æ¤œç´¢ï¼ˆ1åº—èˆ—ï¼‰**: 3ã€œ4ç§’
- **10åº—èˆ—é †æ¬¡æ¤œç´¢**: 30ã€œ40ç§’ï¼ˆ500msé–“éš”ã§ãƒ¬ãƒ¼ãƒˆåˆ¶é™ï¼‰

### æœ€é©åŒ–ã®ãƒã‚¤ãƒ³ãƒˆ

- ãƒ¬ãƒ¼ãƒˆåˆ¶é™é–“éš”ã®èª¿æ•´: `search_service.py` ã® `time.sleep(0.5)`
- ä¸¦åˆ—å‡¦ç†ã¸ã®å¤‰æ›´ï¼ˆå°†æ¥çš„ãªæ”¹å–„æ¡ˆï¼‰
- ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿæ§‹ã®å°å…¥

---

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ­“è¿ã—ã¾ã™!

1. Fork this repository
2. Create your feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add some amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

---

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License 

---

## ğŸ‘¥ ã»ã‹

- **é–‹ç™º**: Claude Sonnet 4.5
- **è¨­è¨ˆ**: æ®µéšçš„ä»•æ§˜æ›¸é§†å‹•é–‹ç™º
- **å®Ÿè£…æ™‚æœŸ**: 2026å¹´1æœˆï¼ˆ6ã‚¹ãƒ†ãƒ¼ã‚¸ã€æ®µéšçš„å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆï¼‰

---

## ğŸ™ è¬è¾

- [Google AI](https://ai.google.dev/) - Gemini API & Grounding Search
- [FastAPI](https://fastapi.tiangolo.com/) - é«˜é€ŸWebãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
- [Pydantic](https://docs.pydantic.dev/) - ãƒ‡ãƒ¼ã‚¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

---



---

**Happy Searching! ğŸœğŸ£ğŸ•**
